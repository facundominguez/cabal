load("@rules_haskell//haskell:defs.bzl", "haskell_library")
load(
    "@bazel_gazelle//:def.bzl",
    "DEFAULT_LANGUAGES",
    "gazelle",
    "gazelle_binary",
)

# gazelle:resolve gazelle_cabal z @zlib.dev//:zlib
gazelle(
    name = "gazelle",
    gazelle = ":gazelle_binary",
)

gazelle_binary(
    name = "gazelle_binary",
    languages = DEFAULT_LANGUAGES + ["@io_tweag_gazelle_cabal//gazelle_cabal"],
)

gazelle(
    name = "gazelle-update-repos",
    command = "update-repos",
    extra_args = [
        "-lang",
        "gazelle_cabal",
        "stackage",
    ],
    gazelle = ":gazelle_binary",
)

# rule generated from Cabal.cabal by gazelle_cabal
haskell_library(
    name = "Cabal",
    srcs = [
        "src/Distribution/Backpack.hs",
        "src/Distribution/Backpack/ComponentsGraph.hs",
        "src/Distribution/Backpack/Configure.hs",
        "src/Distribution/Backpack/ConfiguredComponent.hs",
        "src/Distribution/Backpack/DescribeUnitId.hs",
        "src/Distribution/Backpack/FullUnitId.hs",
        "src/Distribution/Backpack/Id.hs",
        "src/Distribution/Backpack/LinkedComponent.hs",
        "src/Distribution/Backpack/MixLink.hs",
        "src/Distribution/Backpack/ModSubst.hs",
        "src/Distribution/Backpack/ModuleScope.hs",
        "src/Distribution/Backpack/ModuleShape.hs",
        "src/Distribution/Backpack/PreExistingComponent.hs",
        "src/Distribution/Backpack/PreModuleShape.hs",
        "src/Distribution/Backpack/ReadyComponent.hs",
        "src/Distribution/Backpack/UnifyM.hs",
        "src/Distribution/CabalSpecVersion.hs",
        "src/Distribution/Compat/Async.hs",
        "src/Distribution/Compat/Binary.hs",
        "src/Distribution/Compat/CharParsing.hs",
        "src/Distribution/Compat/CopyFile.hs",
        "src/Distribution/Compat/CreatePipe.hs",
        "src/Distribution/Compat/DList.hs",
        "src/Distribution/Compat/Directory.hs",
        "src/Distribution/Compat/Environment.hs",
        "src/Distribution/Compat/Exception.hs",
        "src/Distribution/Compat/FilePath.hs",
        "src/Distribution/Compat/GetShortPathName.hs",
        "src/Distribution/Compat/Graph.hs",
        "src/Distribution/Compat/Internal/TempFile.hs",
        "src/Distribution/Compat/Lens.hs",
        "src/Distribution/Compat/MonadFail.hs",
        "src/Distribution/Compat/Newtype.hs",
        "src/Distribution/Compat/NonEmptySet.hs",
        "src/Distribution/Compat/Parsing.hs",
        "src/Distribution/Compat/Prelude.hs",
        "src/Distribution/Compat/Prelude/Internal.hs",
        "src/Distribution/Compat/Process.hs",
        "src/Distribution/Compat/ResponseFile.hs",
        "src/Distribution/Compat/Semigroup.hs",
        "src/Distribution/Compat/SnocList.hs",
        "src/Distribution/Compat/Stack.hs",
        "src/Distribution/Compat/Time.hs",
        "src/Distribution/Compat/Typeable.hs",
        "src/Distribution/Compiler.hs",
        "src/Distribution/FieldGrammar.hs",
        "src/Distribution/FieldGrammar/Class.hs",
        "src/Distribution/FieldGrammar/FieldDescrs.hs",
        "src/Distribution/FieldGrammar/Newtypes.hs",
        "src/Distribution/FieldGrammar/Parsec.hs",
        "src/Distribution/FieldGrammar/Pretty.hs",
        "src/Distribution/Fields.hs",
        "src/Distribution/Fields/ConfVar.hs",
        "src/Distribution/Fields/Field.hs",
        "src/Distribution/Fields/Lexer.hs",
        "src/Distribution/Fields/LexerMonad.hs",
        "src/Distribution/Fields/ParseResult.hs",
        "src/Distribution/Fields/Parser.hs",
        "src/Distribution/Fields/Pretty.hs",
        "src/Distribution/GetOpt.hs",
        "src/Distribution/InstalledPackageInfo.hs",
        "src/Distribution/Lex.hs",
        "src/Distribution/License.hs",
        "src/Distribution/Make.hs",
        "src/Distribution/ModuleName.hs",
        "src/Distribution/Package.hs",
        "src/Distribution/PackageDescription.hs",
        "src/Distribution/PackageDescription/Check.hs",
        "src/Distribution/PackageDescription/Configuration.hs",
        "src/Distribution/PackageDescription/FieldGrammar.hs",
        "src/Distribution/PackageDescription/Parsec.hs",
        "src/Distribution/PackageDescription/PrettyPrint.hs",
        "src/Distribution/PackageDescription/Quirks.hs",
        "src/Distribution/PackageDescription/Utils.hs",
        "src/Distribution/Parsec.hs",
        "src/Distribution/Parsec/Error.hs",
        "src/Distribution/Parsec/FieldLineStream.hs",
        "src/Distribution/Parsec/Position.hs",
        "src/Distribution/Parsec/Warning.hs",
        "src/Distribution/Pretty.hs",
        "src/Distribution/ReadE.hs",
        "src/Distribution/SPDX.hs",
        "src/Distribution/SPDX/License.hs",
        "src/Distribution/SPDX/LicenseExceptionId.hs",
        "src/Distribution/SPDX/LicenseExpression.hs",
        "src/Distribution/SPDX/LicenseId.hs",
        "src/Distribution/SPDX/LicenseListVersion.hs",
        "src/Distribution/SPDX/LicenseReference.hs",
        "src/Distribution/Simple.hs",
        "src/Distribution/Simple/Bench.hs",
        "src/Distribution/Simple/Build.hs",
        "src/Distribution/Simple/Build/Macros.hs",
        "src/Distribution/Simple/Build/Macros/Z.hs",
        "src/Distribution/Simple/Build/PathsModule.hs",
        "src/Distribution/Simple/Build/PathsModule/Z.hs",
        "src/Distribution/Simple/BuildPaths.hs",
        "src/Distribution/Simple/BuildTarget.hs",
        "src/Distribution/Simple/BuildToolDepends.hs",
        "src/Distribution/Simple/CCompiler.hs",
        "src/Distribution/Simple/Command.hs",
        "src/Distribution/Simple/Compiler.hs",
        "src/Distribution/Simple/Configure.hs",
        "src/Distribution/Simple/Flag.hs",
        "src/Distribution/Simple/GHC.hs",
        "src/Distribution/Simple/GHC/EnvironmentParser.hs",
        "src/Distribution/Simple/GHC/ImplInfo.hs",
        "src/Distribution/Simple/GHC/Internal.hs",
        "src/Distribution/Simple/GHCJS.hs",
        "src/Distribution/Simple/Glob.hs",
        "src/Distribution/Simple/Haddock.hs",
        "src/Distribution/Simple/HaskellSuite.hs",
        "src/Distribution/Simple/Hpc.hs",
        "src/Distribution/Simple/Install.hs",
        "src/Distribution/Simple/InstallDirs.hs",
        "src/Distribution/Simple/InstallDirs/Internal.hs",
        "src/Distribution/Simple/LocalBuildInfo.hs",
        "src/Distribution/Simple/PackageIndex.hs",
        "src/Distribution/Simple/PreProcess.hs",
        "src/Distribution/Simple/PreProcess/Unlit.hs",
        "src/Distribution/Simple/Program.hs",
        "src/Distribution/Simple/Program/Ar.hs",
        "src/Distribution/Simple/Program/Builtin.hs",
        "src/Distribution/Simple/Program/Db.hs",
        "src/Distribution/Simple/Program/Find.hs",
        "src/Distribution/Simple/Program/GHC.hs",
        "src/Distribution/Simple/Program/HcPkg.hs",
        "src/Distribution/Simple/Program/Hpc.hs",
        "src/Distribution/Simple/Program/Internal.hs",
        "src/Distribution/Simple/Program/Ld.hs",
        "src/Distribution/Simple/Program/ResponseFile.hs",
        "src/Distribution/Simple/Program/Run.hs",
        "src/Distribution/Simple/Program/Script.hs",
        "src/Distribution/Simple/Program/Strip.hs",
        "src/Distribution/Simple/Program/Types.hs",
        "src/Distribution/Simple/Register.hs",
        "src/Distribution/Simple/Setup.hs",
        "src/Distribution/Simple/ShowBuildInfo.hs",
        "src/Distribution/Simple/SrcDist.hs",
        "src/Distribution/Simple/Test.hs",
        "src/Distribution/Simple/Test/ExeV10.hs",
        "src/Distribution/Simple/Test/LibV09.hs",
        "src/Distribution/Simple/Test/Log.hs",
        "src/Distribution/Simple/UHC.hs",
        "src/Distribution/Simple/UserHooks.hs",
        "src/Distribution/Simple/Utils.hs",
        "src/Distribution/Simple/Utils/Json.hs",
        "src/Distribution/System.hs",
        "src/Distribution/TestSuite.hs",
        "src/Distribution/Text.hs",
        "src/Distribution/Types/AbiDependency.hs",
        "src/Distribution/Types/AbiHash.hs",
        "src/Distribution/Types/AnnotatedId.hs",
        "src/Distribution/Types/Benchmark.hs",
        "src/Distribution/Types/Benchmark/Lens.hs",
        "src/Distribution/Types/BenchmarkInterface.hs",
        "src/Distribution/Types/BenchmarkType.hs",
        "src/Distribution/Types/BuildInfo.hs",
        "src/Distribution/Types/BuildInfo/Lens.hs",
        "src/Distribution/Types/BuildType.hs",
        "src/Distribution/Types/Component.hs",
        "src/Distribution/Types/ComponentId.hs",
        "src/Distribution/Types/ComponentInclude.hs",
        "src/Distribution/Types/ComponentLocalBuildInfo.hs",
        "src/Distribution/Types/ComponentName.hs",
        "src/Distribution/Types/ComponentRequestedSpec.hs",
        "src/Distribution/Types/CondTree.hs",
        "src/Distribution/Types/Condition.hs",
        "src/Distribution/Types/ConfVar.hs",
        "src/Distribution/Types/Dependency.hs",
        "src/Distribution/Types/DependencyMap.hs",
        "src/Distribution/Types/ExeDependency.hs",
        "src/Distribution/Types/Executable.hs",
        "src/Distribution/Types/Executable/Lens.hs",
        "src/Distribution/Types/ExecutableScope.hs",
        "src/Distribution/Types/ExposedModule.hs",
        "src/Distribution/Types/Flag.hs",
        "src/Distribution/Types/ForeignLib.hs",
        "src/Distribution/Types/ForeignLib/Lens.hs",
        "src/Distribution/Types/ForeignLibOption.hs",
        "src/Distribution/Types/ForeignLibType.hs",
        "src/Distribution/Types/GenericPackageDescription.hs",
        "src/Distribution/Types/GenericPackageDescription/Lens.hs",
        "src/Distribution/Types/GivenComponent.hs",
        "src/Distribution/Types/HookedBuildInfo.hs",
        "src/Distribution/Types/IncludeRenaming.hs",
        "src/Distribution/Types/InstalledPackageInfo.hs",
        "src/Distribution/Types/InstalledPackageInfo/FieldGrammar.hs",
        "src/Distribution/Types/InstalledPackageInfo/Lens.hs",
        "src/Distribution/Types/LegacyExeDependency.hs",
        "src/Distribution/Types/Lens.hs",
        "src/Distribution/Types/Library.hs",
        "src/Distribution/Types/Library/Lens.hs",
        "src/Distribution/Types/LibraryName.hs",
        "src/Distribution/Types/LibraryVisibility.hs",
        "src/Distribution/Types/LocalBuildInfo.hs",
        "src/Distribution/Types/Mixin.hs",
        "src/Distribution/Types/Module.hs",
        "src/Distribution/Types/ModuleReexport.hs",
        "src/Distribution/Types/ModuleRenaming.hs",
        "src/Distribution/Types/MungedPackageId.hs",
        "src/Distribution/Types/MungedPackageName.hs",
        "src/Distribution/Types/PackageDescription.hs",
        "src/Distribution/Types/PackageDescription/Lens.hs",
        "src/Distribution/Types/PackageId.hs",
        "src/Distribution/Types/PackageId/Lens.hs",
        "src/Distribution/Types/PackageName.hs",
        "src/Distribution/Types/PackageName/Magic.hs",
        "src/Distribution/Types/PackageVersionConstraint.hs",
        "src/Distribution/Types/PkgconfigDependency.hs",
        "src/Distribution/Types/PkgconfigName.hs",
        "src/Distribution/Types/PkgconfigVersion.hs",
        "src/Distribution/Types/PkgconfigVersionRange.hs",
        "src/Distribution/Types/SetupBuildInfo.hs",
        "src/Distribution/Types/SetupBuildInfo/Lens.hs",
        "src/Distribution/Types/SourceRepo.hs",
        "src/Distribution/Types/SourceRepo/Lens.hs",
        "src/Distribution/Types/TargetInfo.hs",
        "src/Distribution/Types/TestSuite.hs",
        "src/Distribution/Types/TestSuite/Lens.hs",
        "src/Distribution/Types/TestSuiteInterface.hs",
        "src/Distribution/Types/TestType.hs",
        "src/Distribution/Types/UnitId.hs",
        "src/Distribution/Types/UnqualComponentName.hs",
        "src/Distribution/Types/Version.hs",
        "src/Distribution/Types/VersionInterval.hs",
        "src/Distribution/Types/VersionInterval/Legacy.hs",
        "src/Distribution/Types/VersionRange.hs",
        "src/Distribution/Types/VersionRange/Internal.hs",
        "src/Distribution/Utils/Base62.hs",
        "src/Distribution/Utils/Generic.hs",
        "src/Distribution/Utils/IOData.hs",
        "src/Distribution/Utils/LogProgress.hs",
        "src/Distribution/Utils/MD5.hs",
        "src/Distribution/Utils/MapAccum.hs",
        "src/Distribution/Utils/NubList.hs",
        "src/Distribution/Utils/Path.hs",
        "src/Distribution/Utils/Progress.hs",
        "src/Distribution/Utils/ShortText.hs",
        "src/Distribution/Utils/String.hs",
        "src/Distribution/Utils/Structured.hs",
        "src/Distribution/Utils/UnionFind.hs",
        "src/Distribution/Verbosity.hs",
        "src/Distribution/Verbosity/Internal.hs",
        "src/Distribution/Version.hs",
        "src/Distribution/ZinzaPrelude.hs",
        "src/Language/Haskell/Extension.hs",
        "src/Paths_Cabal.hs",
    ],
    ghcopts = [
        "-DVERSION_Cabal=\"3.6.0.0\"",
        "-Wall",
        "-fno-ignore-asserts",
        "-fwarn-tabs",
        "-fwarn-incomplete-uni-patterns",
        "-fwarn-incomplete-record-updates",
        "-Wcompat",
        "-Wnoncanonical-monad-instances",
#        "-Wnoncanonical-monadfail-instances",
    ],
    hidden_modules = [
        "Distribution.Backpack.PreExistingComponent",
        "Distribution.Backpack.ReadyComponent",
        "Distribution.Backpack.MixLink",
        "Distribution.Backpack.ModuleScope",
        "Distribution.Backpack.UnifyM",
        "Distribution.Backpack.Id",
        "Distribution.Utils.UnionFind",
        "Distribution.Utils.Base62",
        "Distribution.Compat.Async",
        "Distribution.Compat.CopyFile",
        "Distribution.Compat.GetShortPathName",
        "Distribution.Compat.MonadFail",
        "Distribution.Compat.Prelude",
        "Distribution.Compat.SnocList",
        "Distribution.GetOpt",
        "Distribution.Lex",
        "Distribution.Utils.String",
        "Distribution.Simple.Build.Macros.Z",
        "Distribution.Simple.Build.PathsModule.Z",
        "Distribution.Simple.GHC.EnvironmentParser",
        "Distribution.Simple.GHC.Internal",
        "Distribution.Simple.GHC.ImplInfo",
        "Distribution.Simple.Utils.Json",
        "Distribution.ZinzaPrelude",
        "Paths_Cabal",
    ],
    version = "3.6.0.0",
    visibility = ["//visibility:public"],
    deps = [
        "@stackage//:array",
        "@stackage//:base",
        "@stackage//:binary",
        "@stackage//:bytestring",
        "@stackage//:containers",
        "@stackage//:deepseq",
        "@stackage//:directory",
        "@stackage//:filepath",
        "@stackage//:mtl",
        "@stackage//:parsec",
        "@stackage//:pretty",
        "@stackage//:process",
        "@stackage//:text",
        "@stackage//:time",
        "@stackage//:transformers",
        "@stackage//:unix",
    ],
)
